package mcping

import "encoding/json"

const j = `{"urlip":{"www.minecraft.net":["152.199.39.108","152.195.19.97","152.199.21.175"],"textures.minecraft.net":["143.204.131.92","143.204.131.76","143.204.131.87","13.33.244.75","143.204.131.70","13.33.244.78","13.227.21.20","13.226.217.110","52.85.242.104","13.249.11.68","13.226.217.117","54.192.73.86","13.35.242.12","13.225.146.2","13.225.146.71","13.226.217.54","143.204.222.48","13.225.253.20","13.225.146.68","13.224.13.35","13.224.95.120","13.225.198.113","13.227.21.105","13.249.109.106","13.33.235.22","52.84.140.65","13.224.13.30"],"authserver.mojang.com":["99.84.227.68","13.225.107.68","52.85.117.68","13.225.155.69","13.33.200.67","13.35.41.67","99.86.219.68","13.225.92.68","13.33.8.69","52.85.191.41","54.192.172.69","13.224.155.68","99.86.203.68","13.225.187.68","54.230.84.68","54.230.150.67","13.35.91.67","13.227.64.68","13.224.251.68","13.35.25.67"],"api.mojang.com":["13.35.40.174","13.35.166.182","143.204.132.179","13.225.125.168","52.85.229.95","13.224.146.169","99.86.207.169","143.204.83.175","13.224.153.169","99.84.138.181","13.33.181.97","52.85.192.79","13.225.98.168","13.225.199.168","99.84.198.181","13.227.74.103","54.192.20.105","13.227.251.106","13.249.111.180","13.35.31.176","54.192.148.176"],"sessionserver.mojang.com":["99.84.233.186","13.249.156.175","13.227.59.108","13.225.125.168","13.35.166.182","13.224.153.169","13.249.174.171","13.225.98.168","52.85.192.79","99.84.138.181","52.85.229.95","13.225.199.168","13.35.31.176","99.86.207.169","54.192.148.176","54.192.20.105","13.227.74.103","13.227.251.106","99.84.198.181"]}}`

type urlip struct {
	IP map[string][]string `json:"urlip"`
}

func JSON(b []byte) urlip {
	u := urlip{}
	if b == nil {
		b = []byte(j)
		json.Unmarshal(b, &u)
	} else {
		err := json.Unmarshal(b, &u)
		if err != nil {
			b = []byte(j)
			json.Unmarshal(b, &u)
		}
	}
	return u
}
